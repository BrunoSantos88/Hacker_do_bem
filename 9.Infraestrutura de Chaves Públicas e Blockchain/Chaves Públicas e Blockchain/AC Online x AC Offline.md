# AC Online x AC Offline

* Uma AC online está disponível para aceitar e processar solicitações de assinatura de certificados, publicar listas de revogação de certificados e realizar outras tarefas de gerenciamento de certificados. Devido ao alto risco representado pela comprometimento da AC raiz, uma configuração segura envolve tornar a raiz uma AC offline. Isso significa que ela é desconectada de qualquer rede e geralmente é mantida desligada. A AC raiz precisará ser conectada para adicionar ou atualizar ACs intermediárias.
Tipos de ACs

# As ACs são classificadas em:

1. Autoridade Certificadora Raiz (Root Certification Authority): A Autoridade Certificadora Raiz (Root CA) é o nível mais alto na hierarquia de certificação. Ela emite certificados digitais para outras ACs intermediárias ou diretamente para entidades finais. O certificado raiz é autoassinado, ou seja, é emitido pela própria AC raiz e não requer validação por uma autoridade externa. O certificado raiz é confiável pelos usuários e estabelece a base de confiança para toda a infraestrutura de chaves públicas (PKI). A AC raiz é responsável por emitir e revogar certificados intermediários, além de garantir a integridade e segurança da PKI.

2. Autoridade Certificadora Intermediária (Intermediate Certification Authority): A Autoridade Certificadora Intermediária é uma AC secundária que obtém certificados diretamente da AC raiz ou de outras ACs intermediárias de níveis superiores. Ela emite certificados para entidades finais, como usuários, servidores e dispositivos, e atua como um elo intermediário entre a AC raiz e as entidades finais. As ACs intermediárias fornecem maior escalabilidade à PKI, permitindo a emissão de certificados em grande quantidade. Elas também podem ser organizadas em diferentes níveis, formando uma hierarquia de certificação.

3. Autoridade Certificadora Comercial (Commercial Certification Authority): A Autoridade Certificadora Comercial é uma AC operada por uma entidade comercial ou organização privada. Ela emite certificados digitais para entidades finais, como empresas, indivíduos ou dispositivos, com o objetivo de fornecer garantias de autenticidade, integridade e confidencialidade nas transações online. As ACs comerciais são amplamente reconhecidas e confiáveis pelos navegadores e aplicativos, permitindo que os usuários confiem nas identidades e criptografia utilizadas pelos sites e serviços online.

4. Autoridade Certificadora de Domínio (Domain Certification Authority): A Autoridade Certificadora de Domínio emite certificados para autenticar e proteger domínios de sites na Internet. Esses certificados são usados para estabelecer uma conexão segura entre o navegador do usuário e o servidor web, garantindo a criptografia das informações transmitidas. Eles são usados principalmente em protocolos como HTTPS para proteger a privacidade e a integridade dos dados durante a comunicação entre o cliente e o servidor. Os certificados de domínio são verificados por navegadores e outros aplicativos para garantir que o site seja autêntico e confiável.

5. Autoridade Certificadora de Email (Email Certification Authority): A Autoridade Certificadora de Email emite certificados digitais para autenticar e proteger as comunicações de e-mail. Esses certificados são usados para assinar digitalmente e criptografar mensagens de e-mail, garantindo a autenticidade do remetente, a integridade da mensagem e a confidencialidade das informações. Eles permitem que os usuários verifiquem a origem e a integridade dos e-mails recebidos, bem como criem assinaturas digitais para provar a autenticidade de seus próprios e-mails.

6. Autoridade Certificadora de Assinatura de Código (Code Signing Certification Authority): A Autoridade Certificadora de Assinatura de Código emite certificados digitais para desenvolvedores de software assinarem seus aplicativos, scripts e código. Esses certificados são usados para garantir a autenticidade e a integridade do código distribuído, permitindo que os usuários verifiquem se o software foi alterado ou adulterado desde a sua assinatura. Isso ajuda a prevenir a execução de código malicioso ou não autorizado em dispositivos e sistemas. 

7. Autoridade Certificadora de Máquina/Computador (Machine/Computer Certification Authority): A Autoridade Certificadora de Máquina emite certificados digitais para autenticar e proteger máquinas, como servidores, computadores, smartphones e tablets. Esses certificados são usados para estabelecer a identidade confiável das máquinas em uma rede e garantir a comunicação segura entre elas. Eles podem ser usados em cenários como autenticação de máquina em uma rede local ou autenticação de dispositivos em uma infraestrutura de IoT (Internet das Coisas).

8. Autoridade Certificadora de Dispositivo (Device Certification Authority): A Autoridade Certificadora de Dispositivo emite certificados digitais para dispositivos de hardware, como smartphones, tablets, dispositivos IoT e outros dispositivos incorporados. Esses certificados são usados para autenticar e proteger a comunicação entre os dispositivos e garantir a integridade dos dados transmitidos. Eles permitem que os dispositivos se autentiquem em redes, serviços e aplicativos, ajudando a prevenir acessos não autorizados e ataques.

9. Autoridade Certificadora de Identidade (Identity Certification Authority): A Autoridade Certificadora de Identidade emite certificados digitais para autenticar a identidade de indivíduos. Esses certificados são usados em cenários como autenticação em serviços online, assinaturas digitais, acesso a recursos protegidos e transações eletrônicas seguras. Eles garantem que a identidade declarada por um indivíduo seja verificada e confiável, permitindo a criação de identidades digitais seguras.

10. Autoridade Certificadora de Servidor (Server Certification Authority): A Autoridade Certificadora de Servidor emite certificados digitais para autenticar e proteger servidores e serviços online. Esses certificados são usados para estabelecer a identidade confiável de um servidor, garantindo que os clientes possam verificar a autenticidade do servidor com o qual estão se comunicando. Eles são amplamente utilizados em protocolos como HTTPS, SMTPS e LDAPS para garantir conexões seguras e proteger a privacidade das informações transmitidas entre os clientes e os servidores.


# Autoridades de Registro (RA) e Solicitações de Assinatura de Certificado (CSRs)

* O registro é o processo pelo qual os usuários finais criam uma conta com a AC e são autorizados a solicitar certificados. Os processos exatos pelos quais os usuários são autorizados e sua identidade é comprovada são determinados pela implementação da AC. Por exemplo, em uma rede do Windows Active Directory, os usuários e dispositivos frequentemente podem se registrar automaticamente na AC apenas autenticando-se no Active Directory. As ACs comerciais podem realizar uma série de testes para garantir que um sujeito seja quem ele ou ela afirma ser. É do interesse da AC garantir que ela emita certificados apenas para usuários legítimos, caso contrário, sua reputação será prejudicada.

* Quando um sujeito deseja obter um certificado, ele preenche uma solicitação de assinatura de certificado (CSR, na sigla em inglês) e a envia para a AC. A CSR é um arquivo Base64 ASCII que contém as informações que o sujeito deseja usar no certificado, incluindo sua chave pública.

* A AC revisa o certificado e verifica se as informações são válidas. Para um servidor da web, isso pode significar simplesmente verificar se o nome do sujeito e o nome de domínio totalmente qualificado (FQDN, na sigla em inglês) são idênticos e verificar se a CSR foi iniciada pela pessoa responsável administrativamente pelo domínio, conforme identificado nos registros WHOIS do domínio. Se a solicitação for aceita, a AC assina o certificado e o envia para o sujeito.

* A função de registro pode ser delegada pela AC para uma ou mais autoridades de registro (RAs, na sigla em inglês). Essas entidades realizam a verificação de identidade e enviam CSRs em nome dos usuários finais, mas elas não assinam nem emitem certificados efetivamente.

* Em conclusão, as Autoridades de Registro são responsáveis por verificar a identidade dos solicitantes de certificados e coletar as informações necessárias para a emissão de certificados. As Solicitações de Assinatura de Certificado (CSRs) são os documentos gerados pelos solicitantes que contêm as informações necessárias para a criação do certificado. Esses dois elementos desempenham papéis cruciais na PKI, garantindo a segurança e autenticidade dos certificados emitidos.

